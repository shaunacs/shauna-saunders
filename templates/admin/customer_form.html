{% extends 'admin/base_admin.html' %}
{% block title %}{% if customer %}Edit Customer{% else %}New Customer{% endif %} - Admin{% endblock %}

{% block content %}
<div class="breadcrumb">
    <a href="{{ url_for('admin.customers') }}">Customers</a> / {% if customer %}Edit{% else %}New{% endif %}
</div>

<h1>{% if customer %}Edit Customer{% else %}Create New Customer{% endif %}</h1>

<form method="POST" class="form-standard">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

    <div class="form-group">
        <label for="name">Name *</label>
        <input type="text" id="name" name="name" value="{{ customer.name if customer else '' }}" required autofocus>
    </div>

    <div class="form-group">
        <label for="email">Email *</label>
        <input type="email" id="email" name="email" value="{{ customer.email if customer else '' }}" required>
    </div>

    {% if not customer %}
    <div class="form-group">
        <label for="password">Password *</label>
        <input type="password" id="password" name="password" required minlength="8">
        <small>Minimum 8 characters</small>
    </div>
    {% endif %}

    <div class="form-group">
        <label for="company">Company</label>
        <input type="text" id="company" name="company" value="{{ customer.company if customer else '' }}">
    </div>

    <div class="form-group">
        <label for="phone">Phone</label>
        <input type="tel" id="phone" name="phone" value="{{ customer.phone if customer else '' }}">
    </div>

    <div class="form-actions">
        <button type="submit" class="btn btn-primary">
            {% if customer %}Update Customer{% else %}Create Customer{% endif %}
        </button>
        <a href="{% if customer %}{{ url_for('admin.customer_detail', customer_id=customer.id) }}{% else %}{{ url_for('admin.customers') }}{% endif %}" class="btn btn-secondary">Cancel</a>
    </div>
</form>
{% endblock %}
